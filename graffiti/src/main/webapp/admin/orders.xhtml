<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html   xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
          xmlns:p="http://xmlns.jcp.org/jsf/passthrough"

    xmlns:pr="http://primefaces.org/ui">
    <ui:composition template="/templates/admintemplate.xhtml">
        <ui:define name="content">
            <main>
                <!-- breadcrumb-area-start -->
                <section class="breadcrumb-area" style="height: 70px; background-image: url('./assets/page-title.png');">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-12">
                                <div class="breadcrumb-text text-center">
                                    <ul class="breadcrumb-menu">
                                        <li><span><h3>Orders</h3></span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Order list Area Start-->
                <section class="cart-area pt-10">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-9 col-lg-8">
                                <h:form>
                                <div class="table-content table-responsive">
                                    <pr:dataTable class="table" value="#{orderBean.list}" var="order">
                                        <pr:column headerText="Username" sortBy="#{order.userId.userName}">
                                            <h:outputText class="cart-product-name" value="${order.userId.userName}"/>
                                        </pr:column>
                                        <pr:column headerText="Order Date" sortBy="#{order.orderDate}">
                                            <h:outputText class="cart-product-name" value="${order.orderDate}">
                                                <f:convertDateTime pattern="HH:mm dd-MM-yyyy" timeZone="GMT+7"/>
                                            </h:outputText>
                                        </pr:column>
                                        <pr:column headerText="Status" sortBy="#{order.status}">
                                            <h:outputText class="cart-product-name" value="${order.status}"/>
                                        </pr:column>
                                        <pr:column headerText="More">
                                            <h:link class="cart-product-name" outcome="orderdetail.xhtml?oID=${order.orderId}" value="View Detail"/>
                                        </pr:column>
                                    </pr:dataTable>
                                </div>
                            </h:form>
                            </div>
                            <!--SideBar -->
                            <div class="col-xl-3 col-lg-4">
                                <div class="sidebar-shop">
                                    <div class="shop-widget">
                                        <h3 class="shop-title">Search by</h3>
                                        <h:form class="shop-search">
                                            <pr:inputText p:placeholder="Your keyword...." value="#{orderBean.searchStr}">
                                                <f:ajax event="change" listener="#{orderBean.search()}"/>
                                            </pr:inputText>
                                            <button onclick="#{orderBean.search()}"><i class="fa fa-search"></i></button>
                                        </h:form>
                                    </div>
                                </div>
                            </div>
                            <!-- /SideBar -->
                        </div>
                    </div>
                </section>
                <!-- Order list Area End-->
            </main>
        </ui:define>
    </ui:composition>
</html>
