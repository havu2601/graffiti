<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:pr="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        
        <meta http-equiv="x-ua-compatible" content="ie=edge"/>
        <title>Graffiti</title>
        <meta name="description" content=""/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <link rel="manifest" href="./site.webmanifest"/>
        <link rel="shortcut icon" type="image/x-icon" href="./assets/logo_shop.png"/>
        
        <!-- Place favicon.ico in the root directory -->

        <!-- CSS here -->
        <link rel="stylesheet" href="./assets/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="./assets/css/animate.min.css"/>
        <link rel="stylesheet" href="./assets/css/default.css"/>
        <link rel="stylesheet" href="./assets/css/style.css"/>
        <link rel="stylesheet" href="./assets/css/responsive.css"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"/>
        <link rel="stylesheet" href="assets/css/vycss.css"/>
        <style>
            .colorbox:hover{
                transform: scale(1.1);
                box-shadow: 0px 12px 24px 0px rgba(254, 69, 54, 0.5);
                z-index:#{colorBean.listColor.size()};
            }
        </style>
    </h:head>
    <h:body>
        <!-- header start -->
        <header>
            <div id="header-sticky" class="header-area box-90 sticky-header">
                <div class="container-fluid">
                    <div class="row align-items-center">
                        <div class="col-xl-2 col-lg-6 col-md-6 col-7 col-sm-5 d-flex align-items-center pos-relative">
                            <div class="logo">
                                <a href="#"><img style="width: 100px;height: 100px;"  src="./assets/logo_shop.png" alt=""/></a>
                            </div>
                        </div>
                        <div class="col-xl-8 col-lg-6 col-md-8 col-8 d-none d-xl-block">
                                <div class="main-menu text-center">
                                    <nav id="mobile-menu" style="display: block;">
                                        <ul>
                                            <li>
                                                <a href="./index.xhtml">Home</a>
                                            </li>
                                            <c:forEach items="#{categoryBean.listCategory}" var="c">
                                                <li>
                                                    <a href="subcat_product.xhtml?id=#{c.categoryId}">#{c.categoryName.toUpperCase()}</a>
                                                </li>
                                            </c:forEach>
                                        </ul>
                                    </nav>
                                </div>
                        </div>
                        <div class="col-xl-2 col-lg-6 col-md-6 col-5 col-sm-7 pl-0">
                            <div class="header-right f-right">
                                <ul>
                                    <li class="search-btn">
                                        <a class="search-btn nav-search search-trigger" href="#"><i class="fas fa-search"></i></a>
                                    </li>
                                    <li class="login-btn"><a href="#"><i class="far fa-user"></i></a>
                                        <h:panelGroup rendered="#{not userBean.isLoggedin}">
                                            <ul class="minicart" style="width: 150px;margin-top: 5px">
                                                <li>
                                                    <div class="cart-content">
                                                        <a href="./login.xhtml">Log In</a>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="cart-content">
                                                        <a href="./register.xhtml">Register</a>
                                                    </div>
                                                </li>
                                            </ul>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{userBean.isLoggedin}">
                                            <ul class="minicart" style="width: 150px;margin-top: 5px">
                                                <li>
                                                    <div class="cart-content">
                                                        <a class="cart-product-name" href="#"><h:outputText value="Hello, #{userBean.acc.userName}" /></a>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="cart-content">
                                                        <h:commandButton action="#{userBean.doLogout()}" value="Log out"/>
                                                    </div>
                                                </li>
                                            </ul>
                                        </h:panelGroup>
                                    </li>
                                    <li class="d-shop-cart"><a href="#"><i class="fas fa-shopping-cart"></i> <span class="cart-count">3</span></a>
                                        <!-- <ul class="minicart">
                                            <li>
                                                <div class="cart-img">
                                                    <a href="#">
                                                        <img src="./assets/pro1.jpg" alt="">
                                                    </a>
                                                </div>
                                                <div class="cart-content">
                                                    <h3>
                                                        <a href="#">Black &amp; White Shoes</a>
                                                    </h3>
                                                    <div class="cart-price">
                                                        <span class="new">$ 229.9</span>
                                                        <span>
                                                            <del>$239.9</del>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="del-icon">
                                                    <a href="#">
                                                        <i class="far fa-trash-alt"></i>
                                                    </a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="cart-img">
                                                    <a href="#">
                                                        <img src="./assets/pro2.jpg" alt="">
                                                    </a>
                                                </div>
                                                <div class="cart-content">
                                                    <h3>
                                                        <a href="#">Black &amp; White Shoes</a>
                                                    </h3>
                                                    <div class="cart-price">
                                                        <span class="new">$ 229.9</span>
                                                        <span>
                                                            <del>$239.9</del>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="del-icon">
                                                    <a href="#">
                                                        <i class="far fa-trash-alt"></i>
                                                    </a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="cart-img">
                                                    <a href="#">
                                                        <img src="./assets/pro3.jpg" alt="">
                                                    </a>
                                                </div>
                                                <div class="cart-content">
                                                    <h3>
                                                        <a href="#">Black &amp; White Shoes</a>
                                                    </h3>
                                                    <div class="cart-price">
                                                        <span class="new">$ 229.9</span>
                                                        <span>
                                                            <del>$239.9</del>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="del-icon">
                                                    <a href="#">
                                                        <i class="far fa-trash-alt"></i>
                                                    </a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="total-price">
                                                    <span class="f-left">Total:</span>
                                                    <span class="f-right">$300.0</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="checkout-link">
                                                    <a href="#">Shopping Cart</a>
                                                    <a class="red-color" href="#">Checkout</a>
                                                </div>
                                            </li>
                                        </ul> -->
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-12 d-xl-none">
                            <div class="mobile-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
            
        </header>
        <!-- header end -->
 

        <main>
            <f:metadata>
                <f:viewParam name="id" value="#{subproductBean.cateId}"></f:viewParam>
                <f:viewAction action="#{subproductBean.loadSubCat()}"/>
            </f:metadata>
        <!-- shop-area start -->
        <section class="shop-area pt-150 pb-100">
            <div class="container">
                <div class="row">
                    <div class="col-xl-9 col-lg-8">
                        <!-- tab filter -->
                        <div class="row mb-10">
                            <div class="col-xl-5 col-lg-6 col-md-6">
                                <div class="product-showing mb-40">
                                    <p>Showing #{subproductBean.listProduct.size()} results</p>
                                </div>
                            </div>
                        </div>
                        <!-- tab content -->
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                <div class="row">
                                    <!-- ProductItem -->
                                    <c:forEach items="#{subproductBean.listProduct}" var="p">
                                            <div class="col-xl-4 col-lg-6 col-md-6">
                                            <div class="product-wrapper mb-50">
                                                <div class="product-img mb-25" style="opacity: #{p.productStock == 0 ? 0.3 : 1}">
                                                    <a href="detail.html">
                                                        <img src="./assets/images/montana-black-6-pack-infra-p2553-7665_image.jpg" alt=""/>
                                                        <img class="secondary-img" src="./assets/images/EMC7060_1024x1024.jpg" alt=""/>
                                                    </a>
                                                    <div class="product-action text-center">
                                                        <a href="#" title="Shoppingb Cart">
                                                            <i class="fas fa-shopping-cart"></i>
                                                        </a>
                                                        <a href="product_detail.xhtml?pid=#{p.productId}" title="View Detail">
                                                            <i class="fas fa-search"></i>
                                                        </a>
                                                    </div>
                                                </div>
                                                <div class="product-content pr-0">
                                                    <div class="pro-cat mb-10">
                                                        <a href="#">#{p.subcatId.categoryId.categoryName}</a>
                                                    </div>
                                                    <h4>
                                                        <a href="product_detail.xhtml?pid=#{p.productId}">#{p.productName}</a>
                                                    </h4>
                                                    <div class="product-meta">
                                                        <div class="pro-price">
                                                            <span>$#{p.productPrice} USD</span><span style="color: red">#{p.productStock == 0 ? 'Sold Out' : 'In Stock'}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        </c:forEach>
                                </div>

                                </div>
                            </div>
                        </div>
                    <!--</div>-->
                    <!--SideBar -->
                    <div class="col-xl-3 col-lg-4">
                        <div class="sidebar-shop">
                            <div class="shop-widget">
                                <h3 class="shop-title" style="text-align: right;"> #{subproductBean.objCategory.categoryName}</h3>
                                <h:form class="shop-search">
                                    <ul class="sidemenu">
                                        <c:forEach items="#{subproductBean.listSubcat}" var="sc">
                                            <li>
                                                <h:commandButton class="btnSC" action="#{subproductBean.loadProductBySubcat(sc.subcatId)}" value="#{sc.subcatName}">
                                                </h:commandButton>
                                            </li>
                                        </c:forEach>
                                    </ul>
                                </h:form>    
                            </div>
                        </div>
                    </div>
                    <!-- /SideBar -->
                </div>
                <div class="row" style="margin-top: 300px">
                    <div class="row mb-12">
                        <div class="col-xl-6 col-lg-6 col-md-6">
                            <div class="product-showing mb-40">
                                <p>COLOR COllECTION</p>
                            </div>
                        </div>
                    </div>
                    <h:form>
                    <div class="col-xl-12 col-lg-12" style="overflow-y: scroll; height: 910px;">
                        <div class="row mb-12">
                            <c:forEach items="#{colorViewBean.listColor}" var="c">
                                <div class="col-xl-4 col-lg-6 col-md-6 colorbox" style="background-color: #{c.colorHexcode};">
                                    <div class="colorbox-panel">
                                        <span>#{c.colorName}</span><br/>
                                        #{c.colorHexcode}<br/>
                                        <h:commandButton class="btnCl" action="#{subproductBean.loadProductByColor(c.colorId)}" value="Get Product >>">
<!--                                            <i class="fas fa-info-circle"></i>
                                            Get Product
                                            <i class="fas fa-play"></i>-->
                                        </h:commandButton>>
                                    </div>
                                </div>
                            </c:forEach>
                        </div>
                    </div>
                    </h:form>
                </div>
            </div>
        </section>
        <!-- shop-area end -->

        
        </main>
        <footer class="footer-area pl-100 pr-100">
            <div class="footer-area box-90 pt-100 pb-60" data-background="img/bg/footer.jpg" style="background-image: url(&quot;img/bg/footer.jpg&quot;);">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-5 col-lg-6 col-md-6 ">
                            <div class="footer-widget mb-40 pr-70">
                                <div class="footer-logo">
                                    <a href="#"><img src="./assets/logo_shop.png" alt=""/></a>
                                </div>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
                                    ut labore et dolore mag na
                                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                                    ex ea commodo consequat.
                                </p>
                                <div class="footer-time d-flex mt-30">
                                    <div class="time-icon">
                                        <img src="./assets/time.png" alt=""/>
                                    </div>
                                    <div class="time-text">
                                        <span>Got Questions ? Call us 24/7!</span>
                                        <h2>(0600) 874 548</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-3">
                            <div class="footer-widget mb-40">
                                <h3>Social Media</h3>
                                <ul class="footer-link">
                                    <li><a href="#">Facebook</a></li>
                                    <li><a href="#">Twitter</a></li>
                                    <li><a href="#">Behance</a></li>
                                    <li><a href="#"> Dribbble</a></li>
                                    <li><a href="#">Linkedin</a></li>
                                    <li><a href="#">Youtube</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-2 col-md-3 d-md-none d-xl-block">
                            <div class="footer-widget pl-50 mb-40">
                                <h3>Location</h3>
                                <ul class="footer-link">
                                    <li><a href="#">New York</a></li>
                                    <li><a href="#">Tokyo</a></li>
                                    <li><a href="#">Dhaka</a></li>
                                    <li><a href="#">Chittagong</a></li>
                                    <li><a href="#">China</a></li>
                                    <li><a href="#">Japan</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-3 col-md-3">
                            <div class="footer-widget mb-40">
                                <h3>About</h3>
                                <ul class="footer-link">
                                    <li><a href="#">Terms &amp; Conditions</a></li>
                                    <li><a href="#"> Privacy Policy</a></li>
                                    <li><a href="#">Contact Us</a></li>
                                    <li><a href="#">FAQ</a></li>
                                    <li><a href="#">Wholesale</a></li>
                                    <li><a href="#">Direction</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- footer end -->

        <!-- Fullscreen search -->
        <div class="search-wrap">
            <div class="search-inner">
                <i class="fas fa-times search-close" id="search-close"></i>
                <div class="search-cell">
                    <form method="get">
                        <div class="search-field-holder">
                            <input type="search" class="main-search-input" placeholder="Search Entire Store..."/>
                        </div>
                    </form>
                </div>
            </div>
        </div> <!-- end fullscreen search -->

    </h:body>
</html>
